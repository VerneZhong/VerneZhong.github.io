---
title: è®¾è®¡æ¨¡å¼ä¹‹ä¸­ä»‹è€…æ¨¡å¼
date: 2025-02-28 21:33:42
categories: 
- è®¾è®¡æ¨¡å¼
tags:
- ä¸­ä»‹è€…æ¨¡å¼
- Mediator Pattern
---

![](https://github.com/user-attachments/assets/610c0eed-59c7-4084-9bb5-6fc1bdaa6c53)

<!-- more -->

## è®¾è®¡æ¨¡å¼ä¹‹ä¸­ä»‹è€…æ¨¡å¼

### ä»€ä¹ˆæ˜¯ä¸­ä»‹è€…æ¨¡å¼ï¼Ÿ

- ä¸­ä»‹è€…æ¨¡å¼æ˜¯ä¸€ç§è¡Œä¸ºå‹è®¾è®¡æ¨¡å¼ï¼Œå®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯ç”¨ä¸€ä¸ªä¸­ä»‹è€…å¯¹è±¡æ¥å°è£…ä¸€ç»„å¯¹è±¡ä¹‹é—´çš„äº¤äº’ï¼Œä½¿å¯¹è±¡ä¹‹é—´ä¸éœ€è¦ç›¸äº’å¼•ç”¨ï¼Œä»è€Œé™ä½è€¦åˆæ€§ã€‚

### ä¸­ä»‹è€…æ¨¡å¼çš„æ ¸å¿ƒæ¦‚å¿µ

##### Â· é—®é¢˜ï¼š

â€‹	åœ¨å¤æ‚ç³»ç»Ÿä¸­ï¼Œå¤šä¸ªå¯¹è±¡ä¹‹é—´å¯èƒ½ä¼šç›´æ¥é€šä¿¡ï¼Œå¯¼è‡´è€¦åˆåº¦è¿‡é«˜ï¼Œç»´æŠ¤èµ·æ¥ååˆ†å›°éš¾ã€‚

##### Â· è§£å†³æ–¹æ¡ˆï¼š

â€‹	é€šè¿‡å¼•å…¥ä¸­ä»‹è€…ï¼ˆMediatorï¼‰ï¼Œè®©å¯¹è±¡ä¸å†ç›´æ¥é€šä¿¡ï¼Œè€Œæ˜¯é€šè¿‡ä¸­ä»‹è€…åè°ƒå®ƒä»¬çš„äº¤äº’ã€‚

##### Â· ä¼˜ç‚¹

- é™ä½å¯¹è±¡é—´çš„è€¦åˆæ€§ï¼Œæ¯ä¸ªå¯¹è±¡ä¸éœ€è¦çŸ¥é“å…¶ä»–å¯¹è±¡çš„å­˜åœ¨ã€‚
- æ›´å®¹æ˜“ç»´æŠ¤å’Œæ‰©å±•ï¼Œæ–°å¢å¯¹è±¡æ—¶ä¸å½±å“ç°æœ‰å¯¹è±¡ã€‚
- ä¼˜åŒ–é€šä¿¡æ–¹å¼ï¼Œé¿å…å¯¹è±¡é—´è¿‡åº¦ä¾èµ–ã€‚

##### Â· ç¼ºç‚¹

- ä¸­ä»‹è€…å¯èƒ½å˜å¾—å¤æ‚ï¼Œå¦‚æœå¤„ç†çš„å¯¹è±¡è¿‡å¤šï¼Œå¯èƒ½ä¼šå˜æˆâ€œä¸Šå¸ç±»â€ï¼Œéš¾ä»¥ç»´æŠ¤ã€‚

### ä¾‹å­ï¼šé£æœºå¡”å°æ§åˆ¶

 å‡è®¾æœ‰å¤šä¸ªé£æœºåœ¨æœºåœºèµ·é£å’Œé™è½ï¼Œå¦‚æœæ¯æ¶é£æœºéƒ½è¦ç›´æ¥å’Œå…¶ä»–é£æœºé€šä¿¡ï¼Œå°±ä¼šéå¸¸æ··ä¹±ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥å¡”å°ï¼ˆä¸­ä»‹è€…ï¼‰ï¼Œè®©æ‰€æœ‰é£æœºé€šè¿‡å¡”å°è¿›è¡Œåè°ƒã€‚

### ä»£ç ç¤ºä¾‹

**1ï¸âƒ£ å®šä¹‰ä¸­ä»‹è€…æ¥å£**

```java
/**
 * ä¸­ä»‹è€…æ¥å£ï¼Œå®šä¹‰é€šä¿¡è§„åˆ™
 *
 * @author Mr.Zxb
 * @description
 * @date 2025/02/28 21:47
 */
public interface AirTrafficControl {
    void sendMessage(String message, Airplane airplane);
}
```

**2ï¸âƒ£ å…·ä½“ä¸­ä»‹è€…ï¼ˆå¡”å°ï¼‰**

```java
/**
 * å…·ä½“çš„ä¸­ä»‹è€…ï¼ˆå¡”å°ï¼‰
 * @author Mr.Zxb
 * @description
 * @date 2025/02/28 21:53
 */
public class ControlTower implements AirTrafficControl {

    private final List<Airplane> airplanes = new ArrayList<>();

    /**
     * æ³¨å†Œé£æœº
     * @param airplane
     */
    public void registerAirplane(Airplane airplane) {
        airplanes.add(airplane);
    }

    /**
     * é€šè¿‡ä¸­ä»‹è€…å‘é€æ¶ˆæ¯
     * @param message
     * @param sender
     */
    @Override
    public void sendMessage(String message, Airplane sender) {
        airplanes.forEach(airplane -> {
            if (airplane != sender) {
                airplane.receiveMessage(message);
            }
        });
    }
}
```

**3ï¸âƒ£ å®šä¹‰åŒäº‹ç±»ï¼ˆé£æœºï¼‰**

```java
/**
 * é£æœºæŠ½è±¡ç±»
 *
 * @author Mr.Zxb
 * @description
 * @date 2025/02/28 21:47
 */
public abstract class Airplane {

    protected AirTrafficControl controlTower;

    public Airplane(AirTrafficControl controlTower) {
        this.controlTower = controlTower;
    }

    public abstract void sendMessage(String message);
    public abstract void receiveMessage(String message);
}
```

**4ï¸âƒ£ å…·ä½“é£æœºç±»**

```java
/**
 * å…·ä½“é£æœºA
 * @author Mr.Zxb
 * @description
 * @date 2025/02/28 21:57
 */
public class Boeing737 extends Airplane {
    public Boeing737(AirTrafficControl controlTower) {
        super(controlTower);
    }

    @Override
    public void sendMessage(String message) {
        System.out.println("Boeing737 å‘é€æ¶ˆæ¯ï¼š" + message);
        controlTower.sendMessage(message, this);
    }

    @Override
    public void receiveMessage(String message) {
        System.out.println("Boeing737 æ”¶åˆ°æ¶ˆæ¯ï¼š" + message);
    }
}

/**
 * å…·ä½“é£æœº B
 * @author Mr.Zxb
 * @description
 * @date 2025/02/28 21:59
 */
public class AirbusA320 extends Airplane {
    public AirbusA320(AirTrafficControl controlTower) {
        super(controlTower);
    }

    @Override
    public void sendMessage(String message) {
        System.out.println("AirbusA320 å‘é€æ¶ˆæ¯ï¼š" + message);
        controlTower.sendMessage(message, this);
    }

    @Override
    public void receiveMessage(String message) {
        System.out.println("AirbusA320 æ”¶åˆ°æ¶ˆæ¯ï¼š" + message);
    }
}
```

**5ï¸âƒ£ æµ‹è¯•ä»£ç **

```java
/**
 * æµ‹è¯•mainæ–¹æ³•
 * @author Mr.Zxb
 * @description
 * @date 2025/02/28 22:00
 */
public class MediatorPatternDemo {
    public static void main(String[] args) {
        ControlTower tower = new ControlTower();

        Airplane plane1 = new Boeing737(tower);
        Airplane plane2 = new AirbusA320(tower);

        tower.registerAirplane(plane1);
        tower.registerAirplane(plane2);

        plane1.sendMessage("è¯·æ±‚èµ·é£ğŸ›«");
        plane2.sendMessage("è¯·æ±‚é™è½ğŸ›¬");
    }
}
```

**ğŸ›« è¿è¡Œç»“æœ**

```
Boeing737 å‘é€æ¶ˆæ¯ï¼šè¯·æ±‚èµ·é£ğŸ›«
AirbusA320 æ”¶åˆ°æ¶ˆæ¯ï¼šè¯·æ±‚èµ·é£ğŸ›«
AirbusA320 å‘é€æ¶ˆæ¯ï¼šè¯·æ±‚é™è½ğŸ›¬
Boeing737 æ”¶åˆ°æ¶ˆæ¯ï¼šè¯·æ±‚é™è½ğŸ›¬
```

### **ğŸ“Œ é€‚ç”¨åœºæ™¯**

- GUIç»„ä»¶äº¤äº’ï¼šæŒ‰é’®ã€è¾“å…¥æ¡†ã€å¤é€‰æ¡†é€šè¿‡ä¸­ä»‹è€…åè°ƒï¼Œè€Œä¸æ˜¯ç›´æ¥è°ƒç”¨ã€‚
- èŠå¤©å®¤ï¼šæ‰€æœ‰ç”¨æˆ·é€šè¿‡æœåŠ¡å™¨ï¼ˆä¸­ä»‹è€…ï¼‰å‘é€å’Œæ¥æ”¶æ¶ˆæ¯ã€‚
- ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿï¼šå„ä¸ªå­ç³»ç»Ÿä¸ç›´æ¥é€šä¿¡ï¼Œè€Œæ˜¯é€šè¿‡ä»»åŠ¡è°ƒåº¦ä¸­å¿ƒåè°ƒã€‚

### **ğŸ“Œ æ€»ç»“**

- æ ¸å¿ƒæ€æƒ³ï¼šè®©å¤šä¸ªå¯¹è±¡é€šè¿‡ä¸­ä»‹è€…äº¤äº’ï¼Œè€Œä¸æ˜¯ç›´æ¥é€šä¿¡ï¼Œé™ä½è€¦åˆ
- ä¼˜ç‚¹ï¼šé™ä½å¯¹è±¡ä¹‹é—´çš„ä¾èµ–ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚
- ç¼ºç‚¹ï¼šä¸­ä»‹è€…å¯èƒ½å˜å¾—å¤æ‚ï¼Œæˆä¸ºâ€œä¸Šå¸ç±»â€œã€‚
- åº”ç”¨åœºæ™¯ï¼šGUIç»„ä»¶ã€èŠå¤©å®¤ã€ä»»åŠ¡è°ƒåº¦ã€é£æœºå¡”å°ã€å¾®æœåŠ¡é€šä¿¡ç­‰ã€‚

ä¸­ä»‹è€…æ¨¡å¼é€šè¿‡ä¸€ä¸ªä¸­é—´å¯¹è±¡æ¥åè°ƒå¤šä¸ªå¯¹è±¡çš„äº¤äº’ï¼Œé¿å…å¯¹è±¡ä¹‹é—´ç›´æ¥è€¦åˆï¼Œæå‡ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚
